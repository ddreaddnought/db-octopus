@model octopus.website.ViewModels.UserQueryViewModel

@{
    ViewData["Title"] = "Home Page";
}

<script src="/lib/CodeMirror/lib/codemirror.js"></script>
<script src="/lib/CodeMirror/mode/sql/sql.js" type="text/javascript"></script>
<link href="/lib/CodeMirror/lib/codemirror.css" rel="stylesheet" type="text/css" />
<link href="/lib/CodeMirror/theme/abcdef.css" rel="stylesheet" type="text/css" />

<h2>db-octopus</h2>

<form asp-controller="Home" asp-action="Execute" method="post" target="_blank">
	<div>
		@Html.TextArea("query", "select count(1) from job where uid = 10", new { rows = "20", Class="sql_input" })
	</div>
	<div>
		<input type="submit" class="btn btn-default exec_button" value="Execute" />
	</div>
</form>


<script>
	var editor = CodeMirror.fromTextArea(document.getElementById("query"), {
		lineNumbers: true,
		matchBrackets: true,
		mode: "text/x-sql",
		theme: "abcdef"
	});
</script> 