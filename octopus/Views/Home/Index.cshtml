@model octopus.Models.QueryViewModel

@{
    ViewBag.Title = "Octopus project";
}

<script src="~/Scripts/CodeMirror/lib/codemirror.js"></script>
<script src="~/Scripts/CodeMirror/mode/sql/sql.js" type="text/javascript"></script>
<link href="~/Scripts/CodeMirror/lib/codemirror.css" rel="stylesheet" type="text/css" />
<link href="~/Scripts/CodeMirror/theme/abcdef.css" rel="stylesheet" type="text/css" />
 
@using (Html.BeginForm("Execute", "Query", new { ReturnUrl = ViewBag.ReturnUrl }, FormMethod.Post, new { @class = "form-horizontal", role = "form" }))
{
	<div style="margin-top: 50px;">
		@Html.TextAreaFor(m => m.Sql, new { id = "query", rows = "20", Class = "sql_input" })
	</div>
	<div>
		<input type="submit" class="btn btn-default exec_button" value="Execute" formtarget="_blank"  />
	</div>
}

<script>
	var editor = CodeMirror.fromTextArea(document.getElementById("query"), {
		lineNumbers: true,
		matchBrackets: true,
		mode: "text/x-sql",
		theme: "abcdef"
	});
</script> 